<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Cadastro de Ministério</title>
    <th:block th:replace="~{fragments :: estilos-globais}"></th:block>
    <style>
        .form-card { background: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 10px rgba(139, 94, 52, 0.1); max-width: 700px; margin: 0 auto; }
        .section-title { color: var(--primary-brown); font-size: 15px; font-weight: 700; margin-bottom: 15px; margin-top: 20px; border-bottom: 2px solid #f0f0f0; padding-bottom: 8px; }
        .section-title:first-child { margin-top: 0; }

        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .form-group { display: flex; flex-direction: column; }
        .form-group.full-width { grid-column: 1 / -1; }

        label { margin-bottom: 5px; font-weight: 600; color: var(--text-dark); font-size: 14px; }
        input, textarea, select { width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: #fcfbf9; box-sizing: border-box; }
        input:focus, textarea:focus, select:focus { outline: none; border-color: var(--accent-gold); background: white; box-shadow: 0 0 0 3px rgba(217, 163, 74, 0.2); }
        .actions { margin-top: 25px; display: flex; gap: 10px; justify-content: flex-end; border-top: 1px solid #eee; padding-top: 20px;}

        @media (max-width: 600px) { .form-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div th:replace="~{fragments :: navbar(ativo='ministerios')}"></div>

<div class="container">
    <div class="form-card">
        <h2 class="page-title" style="margin-bottom: 20px; font-size: 20px;"
            th:text="${ministerio.id == null} ? 'Novo Ministério' : 'Editar Ministério'"></h2>

        <form th:action="@{/admin/ministerios/salvar}" th:object="${ministerio}" method="post">
            <input type="hidden" th:field="*{id}" />

            <div class="section-title">Dados do Ministério</div>
            <div class="form-grid">
                <div class="form-group">
                    <label>Nome do Ministério:</label>
                    <input type="text" th:field="*{nome}" required />
                </div>
                <div class="form-group">
                    <label>Base (Área):</label>
                    <select th:field="*{base}">
                        <option value="">Selecione...</option>
                        <option th:each="b : ${bases}" th:value="${b.id}" th:text="${b.nome}"></option>
                    </select>
                </div>
            </div>

            <div class="section-title">Liderança</div>
            <div class="form-group full-width">
                <label>Pastor Responsável:</label>
                <input type="text" th:field="*{pastorResponsavel}" />
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label>Líder(es) do Ministério:</label>
                    <input type="text" th:field="*{lider}" />
                </div>
                <div class="form-group">
                    <label>Contato do Líder (Zap):</label>
                    <input type="text" th:field="*{contatoLider}" />
                </div>
            </div>

            <div class="form-group full-width" style="margin-top: 15px;">
                <label>Descrição / Observações:</label>
                <textarea th:field="*{descricao}" rows="3"></textarea>
            </div>

            <div class="actions">
                <a href="/admin/ministerios" class="btn btn-secondary">Cancelar</a>
                <button type="submit" class="btn btn-primary">Salvar</button>
            </div>
        </form>
    </div>
</div>
</body>
</html>